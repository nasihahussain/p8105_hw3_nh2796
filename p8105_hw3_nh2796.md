p8105_hw3_nh2796
================
2024-10-16

\##problem 1

``` r
library(p8105.datasets)
data("ny_noaa")

library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(ggplot2)
```

``` r
ny_noaa_df =
  ny_noaa %>%
  mutate(year = year(date),
         month = month(date),
         day = day(date))
```

Some of the key variables here are the precipitation amount, amount of
snowfall, the snow depth, the min and max temperatures. The mean snow
depth was 37.31 and the mean snowfall was 4.98mm

``` r
ny_noaa_summary =
  ny_noaa %>%
  summarise(across(c(prcp, snow, snwd), list(min = min, max = max, mean = mean), na.rm = TRUE))
```

    ## Warning: There was 1 warning in `summarise()`.
    ## ℹ In argument: `across(...)`.
    ## Caused by warning:
    ## ! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.
    ## Supply arguments directly to `.fns` through an anonymous function instead.
    ## 
    ##   # Previously
    ##   across(a:b, mean, na.rm = TRUE)
    ## 
    ##   # Now
    ##   across(a:b, \(x) mean(x, na.rm = TRUE))

snowfall common value

``` r
common_snowfall_value = 
  ny_noaa %>% 
  count(snow) %>% 
  arrange(desc(n))
```

the most common snowfall value in this dataset besides the days that saw
0 snowfall and the days that had missing data, was 25mm which was
observed 38,1221 times.

\##plots

``` r
janjul_data = 
  ny_noaa_df %>% 
  filter(month == 1 | month == 7)

janjul_data$tmax <- as.numeric(as.character(janjul_data$tmax))

avg_temp_data = 
  janjul_data %>%
  filter(!is.na(tmax)) %>% 
  group_by(id, year, month) %>% 
  summarise(avg_max_temp = mean(tmax, na.rm = TRUE)) %>%
  ungroup()
```

    ## `summarise()` has grouped output by 'id', 'year'. You can override using the
    ## `.groups` argument.

``` r
ggplot(avg_temp_data, aes(x = year, y = avg_max_temp, color = month)) +
  geom_line(alpha = .5) +
  facet_grid(. ~ month) +
  labs(title = "average max temperature by year")
```

![](p8105_hw3_nh2796_files/figure-gfm/unnamed-chunk-5-1.png)<!-- -->

\##problem 2

``` r
demo_data = read_csv(file = "./nhanes_covar.csv")
```

    ## New names:
    ## Rows: 254 Columns: 5
    ## ── Column specification
    ## ──────────────────────────────────────────────────────── Delimiter: "," chr
    ## (5): ...1, 1 = male, ...3, ...4, 1 = Less than high school
    ## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
    ## Specify the column types or set `show_col_types = FALSE` to quiet this message.
    ## • `` -> `...1`
    ## • `` -> `...3`
    ## • `` -> `...4`

``` r
accel_data = read_csv(file = "./nhanes_accel.csv")
```

    ## Rows: 250 Columns: 1441
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (1441): SEQN, min1, min2, min3, min4, min5, min6, min7, min8, min9, min1...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
